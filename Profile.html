<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>Profile</title>
<style>
  body {
    font-family: Arial, sans-serif;
    margin: 0;
    padding: 0;
    background: url('https://images.unsplash.com/photo-1506744038136-46273834b3fb?auto=format&fit=crop&w=1350&q=80') no-repeat center center fixed;
    background-size: cover;
    color: #fff;
    position: relative;
    min-height: 100vh;
  }
  body::before {
    content:"";
    position:fixed; top:0; left:0; right:0; bottom:0;
    background: rgba(0,0,0,0.35);
    z-index:0;
  }
  .container {
    position: relative;
    z-index:1;
    max-width:400px;
    margin:50px auto;
    padding:20px;
    border-radius:10px;
    background: rgba(255,255,255,0.15);
    box-shadow:0 4px 12px rgba(0,0,0,0.3);
    backdrop-filter: blur(8px);
    -webkit-backdrop-filter: blur(8px);
    color:#fff;
  }
  h2 { text-align:center; margin-bottom:20px; }
  label { display:block; margin-top:10px; font-weight:bold; color:#fff; }
  input {
    width:100%;
    padding:8px;
    margin-top:4px;
    border:1px solid #ccc;
    border-radius:4px;
    box-sizing:border-box;
    font-size:14px;
    background: rgba(255,255,255,0.9);
    color: #333;
  }
  button {
    margin-top:20px;
    padding:10px;
    width:100%;
    font-size:16px;
    border:none;
    border-radius:5px;
    cursor:pointer;
    background-color:#28a745;
    color:white;
    transition: background-color 0.3s ease;
  }
  button:hover { background-color:#218838; }
</style>
</head>
<body>

<div class="container">
  <h2>Profile</h2>

  <form id="profileForm">
    <label for="surname">Surname</label>
    <input type="text" id="surname" name="surname" readonly />

    <label for="name">Name</label>
    <input type="text" id="name" name="name" readonly />

    <label for="email">Email Address</label>
    <input type="email" id="email" name="email" readonly />

    <label for="cellphone">Cell Phone</label>
    <input type="text" id="cellphone" name="cellphone" readonly />

    <label for="province">Province</label>
    <input type="text" id="province" name="province" readonly />

    <button type="button" id="editBtn">Edit Profile</button>
  </form>
</div>

<script>
  const users = JSON.parse(localStorage.getItem("users")) || [];
  let user = users[0]; // Load the first user
  const fields = ['surname','name','email','cellphone','province'];

  function loadProfile() {
    if(user){
      document.getElementById('surname').value = user.Surname || '';
      document.getElementById('name').value = user.Name || '';
      document.getElementById('email').value = user.email || '';
      document.getElementById('cellphone').value = user.cellphone || '';
      document.getElementById('province').value = user.Country || '';
    }
  }

  loadProfile();

  const editBtn = document.getElementById('editBtn');
  let editing = false;

  editBtn.addEventListener('click', () => {
    editing = !editing;

    // Toggle readonly fields
    fields.forEach(f => {
      document.getElementById(f).readOnly = !editing;
    });

    if(editing){
      editBtn.textContent = 'Save Changes';
    } else {
      // Save changes back to localStorage
      if(user){
        user.Surname = document.getElementById('surname').value;
        user.Name = document.getElementById('name').value;
        user.email = document.getElementById('email').value;
        user.cellphone = document.getElementById('cellphone').value;
        user.Country = document.getElementById('province').value;

        users[0] = user;
        localStorage.setItem("users", JSON.stringify(users));

        alert("Profile updated successfully!");
      }
      editBtn.textContent = 'Edit Profile';
    }
  });
</script>

</body>
</html>
